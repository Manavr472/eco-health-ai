<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eco-Health AI - Hospital Command Center</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>

<body>
    <!-- Header -->
    <header class="dashboard-header">
        <div class="header-content">
            <h1>üè• Eco-Health AI Command Center</h1>
            <div class="hospital-selector">
                <label>Hospital:</label>
                <select id="hospitalSelect">
                    <option value="1">King Edward Memorial Hospital - Parel</option>
                    <option value="2">Lokmanya Tilak Hospital - Sion</option>
                    <option value="3">BYL Nair Hospital - Mumbai Central</option>
                    <option value="4">JJ Hospital - Mumbai Central</option>
                    <option value="5">Hinduja Hospital - Mahim</option>
                    <option value="6">Lilavati Hospital - Bandra West</option>
                    <option value="7">NANAVATI - Vile Parle</option>
                    <option value="8">Bombay Hospital - Marine Lines</option>
                    <option value="9">Jaslok Hospital - Tardeo</option>
                    <option value="10">Breach Candy Hospital - Breach Candy</option>
                    <option value="11">Saifee Hospital - Charni Road</option>
                    <option value="13">Jupiter Hospital - Thane West</option>
                    <option value="14">Dr. R N Cooper Hospital - Juhu</option>
                    <option value="15">HBT (Thackeray) Trauma Care - Jogeshwari East</option>
                </select>
            </div>
            <div class="last-update">
                Last Updated: <span id="lastUpdate">--</span>
            </div>
        </div>
    </header>

    <!-- Alert Banner -->
    <div id="alertBanner" class="alert-banner hidden">
        <div class="alert-content">
            <span class="alert-icon">‚ö†Ô∏è</span>
            <p></p>
            <button class="alert-close" onclick="closeAlert()">√ó</button>
        </div>
    </div>

    <!-- Main Dashboard -->
    <main class="dashboard-main">
        <!-- KPI Cards (Always visible) -->
        <section class="kpi-section">
            <div class="kpi-card">
                <div class="kpi-icon">üåßÔ∏è</div>
                <div class="kpi-content">
                    <h3>Rainfall</h3>
                    <div class="kpi-value" id="rainfallValue">--</div>
                    <div class="kpi-status">Today's Forecast</div>
                </div>
            </div>
            <div class="kpi-card">
                <div class="kpi-icon">üéâ</div>
                <div class="kpi-content">
                    <h3>Upcoming Event</h3>
                    <div class="kpi-value" id="eventValue" style="font-size: 1.2rem;">--</div>
                    <div class="kpi-status">Festival Alert</div>
                </div>
            </div>
            <div class="kpi-card">
                <div class="kpi-icon">üö®</div>
                <div class="kpi-content">
                    <h3>Predicted Surge</h3>
                    <div class="kpi-value" id="surgeMultiplier">--</div>
                    <div class="kpi-status" id="surgeDate">--</div>
                </div>
            </div>
            <div class="kpi-card">
                <div class="kpi-icon">üå°Ô∏è</div>
                <div class="kpi-content">
                    <h3>Current AQI</h3>
                    <div class="kpi-value" id="currentAQI">--</div>
                    <div class="kpi-status" id="aqiCategory">--</div>
                </div>
            </div>
            <div class="kpi-card">
                <div class="kpi-icon">üå±</div>
                <div class="kpi-content">
                    <h3>Carbon Credits</h3>
                    <div class="kpi-value" id="carbonCredits">--</div>
                    <div class="kpi-status">tons CO‚ÇÇ reduced</div>
                </div>
            </div>
        </section>

        <!-- Tab Navigation -->
        <div class="tab-container">
            <div class="tab-nav">
                <button class="tab-btn active" onclick="switchTab('overview')">üìä Overview</button>
                <button class="tab-btn" onclick="switchTab('analytics')">üìà Analytics</button>
                <button class="tab-btn" onclick="switchTab('recommendations')">ü§ñ AI Recommendations</button>
                <button class="tab-btn" onclick="switchTab('resources')">üë• Resources</button>
                <button class="tab-btn" onclick="switchTab('sustainability')">üå± Sustainability</button>
            </div>

            <!-- TAB 1: OVERVIEW -->
            <div id="tab-overview" class="tab-content active">
                <section class="charts-section">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2>üìà 7-Day Surge Predictions</h2>
                            <span class="chart-info">AI-predicted patient admissions with confidence intervals</span>
                        </div>
                        <div style="position: relative; height: 300px;">
                            <canvas id="surgePredictionChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2>üå´Ô∏è Historical AQI Trend</h2>
                            <span class="chart-info">Real data from past 30 days</span>
                        </div>
                        <div style="position: relative; height: 300px;">
                            <canvas id="aqiTrendChart"></canvas>
                        </div>
                    </div>
                </section>
            </div>

            <!-- TAB 2: ANALYTICS -->
            <div id="tab-analytics" class="tab-content">
                <section class="analytics-section">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2>üîç Surge Causation Analysis</h2>
                            <span class="chart-info">Correlation between external factors and patient surges</span>
                        </div>
                        <div style="position: relative; height: 350px;">
                            <canvas id="correlationChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2>üìä Multi-Factor Impact</h2>
                            <span class="chart-info">How AQI, rainfall, and events affect admissions</span>
                        </div>
                        <div style="position: relative; height: 350px;">
                            <canvas id="multiFactorChart"></canvas>
                        </div>
                    </div>
                </section>

                <!-- Recent Surge Events Table -->
                <div class="surge-events-table">
                    <h3>Recent Surge Events & Causes</h3>
                    <div id="surgeEventsTableContainer"></div>
                </div>
            </div>

            <!-- TAB 3: AI RECOMMENDATIONS -->
            <div id="tab-recommendations" class="tab-content">
                <section class="recommendations-section">
                    <h2>ü§ñ AI Agent Recommendations</h2>
                    <div id="recommendationsList" class="recommendations-list">
                        <div class="loading">Loading recommendations...</div>
                    </div>
                </section>

                <section class="timeline-section">
                    <h2>üìÖ Action Timeline</h2>
                    <div id="actionTimeline" class="timeline">
                        <div class="loading">Loading timeline...</div>
                    </div>
                </section>
            </div>

            <!-- TAB 4: RESOURCES -->
            <div id="tab-resources" class="tab-content">
                <section class="resources-section">
                    <h2>üë• Resource Allocation</h2>
                    <div class="resource-grid">
                        <div class="resource-card">
                            <h3>Medical Staff</h3>
                            <div class="resource-item">
                                <span class="resource-label">Doctors</span>
                                <div class="resource-bar">
                                    <div class="resource-progress" id="doctorsBar"></div>
                                </div>
                                <span class="resource-value" id="doctorsValue">--</span>
                            </div>
                            <div class="resource-item">
                                <span class="resource-label">Nurses</span>
                                <div class="resource-bar">
                                    <div class="resource-progress" id="nursesBar"></div>
                                </div>
                                <span class="resource-value" id="nursesValue">--</span>
                            </div>
                            <div class="resource-item">
                                <span class="resource-label">Support Staff</span>
                                <div class="resource-bar">
                                    <div class="resource-progress" id="supportBar"></div>
                                </div>
                                <span class="resource-value" id="supportValue">--</span>
                            </div>
                        </div>
                        <div class="resource-card">
                            <h3>Critical Supplies</h3>
                            <div class="resource-item">
                                <span class="resource-label">PPE Kits</span>
                                <div class="resource-bar">
                                    <div class="resource-progress" id="ppeBar"></div>
                                </div>
                                <span class="resource-value" id="ppeValue">--</span>
                            </div>
                            <div class="resource-item">
                                <span class="resource-label">Oxygen (L)</span>
                                <div class="resource-bar">
                                    <div class="resource-progress" id="oxygenBar"></div>
                                </div>
                                <span class="resource-value" id="oxygenValue">--</span>
                            </div>
                            <div class="resource-item">
                                <span class="resource-label">Medications</span>
                                <div class="resource-bar">
                                    <div class="resource-progress" id="medsBar"></div>
                                </div>
                                <span class="resource-value" id="medsValue">--</span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- TAB 5: SUSTAINABILITY -->
            <div id="tab-sustainability" class="tab-content">
                <section class="sustainability-section">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2>üå± Carbon Emission Reduction</h2>
                            <span class="chart-info">Optimized vs baseline operations</span>
                        </div>
                        <div style="position: relative; height: 300px;">
                            <canvas id="carbonChart"></canvas>
                        </div>
                    </div>
                    <div class="impact-cards">
                        <div class="impact-card">
                            <h3>Total CO‚ÇÇ Reduced</h3>
                            <div class="impact-value" id="totalCO2">--</div>
                            <p>tons since deployment</p>
                        </div>
                        <div class="impact-card">
                            <h3>Revenue Generated</h3>
                            <div class="impact-value" id="carbonRevenue">--</div>
                            <p>from carbon credits</p>
                        </div>
                        <div class="impact-card">
                            <h3>Efficiency Gain</h3>
                            <div class="impact-value" id="efficiencyGain">--</div>
                            <p>vs baseline operations</p>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="dashboard-footer">
        <p>Eco-Health AI Command Center | Mumbai Region</p>
        <p>Powered by Agentic AI for Sustainable Hospital Operations</p>
    </footer>

    <script src="app.js"></script>
</body>

</html>